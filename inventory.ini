# ═══════════════════════════════════════════════════════════════════════════
# Antigravity Infrastructure - Ansible Inventory (New Schema)
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# PC1 - Security Tier (FW, WAF, DNS)
# 설명 주석: 외부에서 들어오는 트래픽이 가장 먼저 거치는 관문.
# - FW(SECURE): 방화벽 및 포트포워딩 + 보안 게이트웨이
# - WAF: 웹 방화벽
# - DNS: 내부 도메인 이름 풀이
# ───────────────────────────────────────────────────────────────────────────
[PC1]
SECURE          ansible_host=172.16.6.61
WAF             ansible_host=10.2.1.2
DNS             ansible_host=10.2.1.3

# ───────────────────────────────────────────────────────────────────────────
# PC2 - K8S Control Plane Tier (Master Nodes)
# 설명 주석: 쿠버네티스 클러스터의 '두뇌' 역할을 하는 마스터 노드들.
# - 3대(HA)로 구성되어 하나가 죽어도 클러스터는 생존.
# - ControlPlane1: 초기화(Init)를 담당하는 리더 - Primary
# - ControlPlane2, 3: 리더에게 합류(Join)하는 멤버 - Secondary
# ───────────────────────────────────────────────────────────────────────────
[PC2]
K8S-ControlPlane1   ansible_host=10.2.2.2
K8S-ControlPlane2   ansible_host=10.2.2.3
K8S-ControlPlane3   ansible_host=10.2.2.4

# ───────────────────────────────────────────────────────────────────────────
# PC3 - K8S Worker Nodes Tier 1
# 설명 주석: 실제 애플리케이션(컨테이너)이 실행되는 일꾼 노드들.
# ───────────────────────────────────────────────────────────────────────────
[PC3]
K8S-WorkerNode1     ansible_host=10.2.2.5
K8S-WorkerNode2     ansible_host=10.2.2.6
K8S-WorkerNode3     ansible_host=10.2.2.7

# ───────────────────────────────────────────────────────────────────────────
# PC4 - DB & Storage Tier (External Infrastructure)
# 설명 주석: 쿠버네티스 외부에 존재하는 영구 데이터 저장소.
# - DB-Proxy: DB 접속을 분산시켜주는 로드밸런서
# - DB-Active/Standby/Backup: 실제 데이터가 저장되는 MySQL 서버
# - etcd: 분산 키-값 저장소 (Database Layer)
# - Storage: NFS 파일 서버
# ───────────────────────────────────────────────────────────────────────────
[PC4]
DB-Proxy1       ansible_host=10.2.2.20
DB-Proxy2       ansible_host=10.2.2.21
DB-Active       ansible_host=10.2.3.2
DB-Standby      ansible_host=10.2.3.3
DB-Backup       ansible_host=10.2.3.4
etcd_1          ansible_host=10.2.3.20
etcd_2          ansible_host=10.2.3.21
etcd_3          ansible_host=10.2.3.22
Storage         ansible_host=10.2.2.30

# ───────────────────────────────────────────────────────────────────────────
# PC5 - OPS Tier
# ───────────────────────────────────────────────────────────────────────────
[PC5]
CI-OPS          ansible_host=10.2.2.40
Monitoring      ansible_host=10.2.2.50
Monitoring_Backup ansible_host=10.2.2.51

[Monitoring_Servers]
Monitoring
Monitoring_Backup

# ───────────────────────────────────────────────────────────────────────────
# PC6 - K8S Worker Nodes Tier 2
# 설명 주석: PC3의 워커 노드가 부족할 때를 대비한 추가 일꾼 노드들.
# - PC3와 동일하게 워커 노드 역할을 수행.
# ───────────────────────────────────────────────────────────────────────────
[PC6]
K8S-WorkerNode4     ansible_host=10.2.2.8
K8S-WorkerNode5     ansible_host=10.2.2.9
K8S-WorkerNode6     ansible_host=10.2.2.10

# ───────────────────────────────────────────────────────────────────────────
# Groups
# ───────────────────────────────────────────────────────────────────────────
[K8S_Control_Plane:children]
PC2

[K8S_Master:children]
K8S_Control_Plane

[K8S_Primary_Master]
K8S-ControlPlane1

[K8S_Secondary_Masters]
K8S-ControlPlane2
K8S-ControlPlane3

[K8S_Workers:children]
PC3
PC6

[K8S_Cluster:children]
K8S_Control_Plane
K8S_Workers

[DB_Servers]
DB-Active
DB-Standby
DB-Backup

[DB_Proxies]
DB-Proxy1
DB-Proxy2

[ETCD_Cluster]
etcd_1
etcd_2
etcd_3

[OPS_Servers:children]
PC5

[Security_Tier:children]
PC1

[All_Nodes:children]
PC1
PC2
PC3
PC4
PC5
PC6